!function(){function e(){}function t(e,t,n){var o=n.context;n.success.call(o,e,"success",t),n.promise.resolve(e,"success",t),r("success",t,n)}function r(e,t,r){var n=r.context;r.complete.call(n,t,e)}function n(e,t,n,o){var a=o.context;o.error.call(a,n,t,e),o.promise.reject(n,t,e),r(t,n,o)}function o(e){var t;if(!f){for(f={};t=y.exec(b);)f[t[1].toLowerCase()]=t[2];t=f[e.toLowerCase()]}return null===t?null:t}function a(r){function o(){u.clearAttributes?u.clearAttributes():u.onload=u.onreadystatechange=u.onerror=null,u.parentNode&&u.parentNode.removeChild(u),u=null,delete window[s]}var a,s=r.jsonpCallback||"jsonp"+d(),u=window.document.createElement("script"),l={abort:function(){s in window&&(window[s]=e)}},p=window.document.getElementsByTagName("head")[0]||window.document.documentElement;return u.onerror=function(e){!function(e){window.clearTimeout(a),l.abort(),n(e.type,l,e.type,r),o()}(e)},window[s]=function(e){window.clearTimeout(a),t(e,l,r),o()},c(r),u.src=r.url.replace(/=\?/,"="+s),u.src=i(u.src,"_="+(new Date).getTime()),u.async=!0,r.scriptCharset&&(u.charset=r.scriptCharset),p.insertBefore(u,p.firstChild),r.timeout>0&&(a=window.setTimeout(function(){l.abort(),n("timeout",l,"timeout",r),o()},r.timeout)),r.promise.abort=function(){l.abort()},r.promise.xhr=l,r.promise}function i(e,t){return(e+"&"+t).replace(/[&?]{1,2}/,"?")}function c(e){l(e)&&!function(e){return e instanceof FormData}(e.data)&&e.processData&&(e.data=function(e,t){var r=[];return r.add=function(e,t){this.push(encodeURIComponent(e)+"="+encodeURIComponent(t))},s(r,e,t),r.join("&").replace("%20","+")}(e.data)),!e.data||e.type&&"GET"!==e.type.toUpperCase()||(e.url=i(e.url,e.data))}function s(e,t,r,n){var o=function(e){return"[object Array]"===Object.prototype.toString.call(e)}(t);for(var a in t){var i=t[a];n&&(a=r?n:n+"["+(o?"":a)+"]"),!n&&o?e.add(i.name,i.value):(r?o(i):l(i))?s(e,i,r,a):e.add(a,i)}}function u(e){for(var t=Array.prototype.slice.call(arguments,1),r=0,n=t.length;r<n;r++){var o=t[r]||{};for(var a in o)o.hasOwnProperty(a)&&void 0!==o[a]&&(e[a]=o[a])}return e}function l(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function p(e){return"function"==typeof e}function d(){return(new Date).getTime()}var f,m="application/json, text/javascript",w="text/html",v=/^(?:text|application)\/xml/i,y=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,h=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,x=/^\s*$/,T={},j={},b="",g={type:"GET",beforeSend:e,success:e,error:e,complete:e,context:null,xhr:function(){return new window.XMLHttpRequest},accepts:{json:m,xml:"application/xml, text/xml",html:w,text:"text/plain","*":"*/".concat("*")},crossDomain:!1,timeout:0,username:null,password:null,processData:!0,promise:e,contentType:"application/x-www-form-urlencoded; charset=UTF-8"},C=function(r,s){"object"==typeof r&&(s=r,r=void 0);var l=u({},s||{});for(var p in g)void 0===l[p]&&(l[p]=g[p]);try{var f={},y=new Promise(function(e,t){f.resolve=e,f.reject=t});y.resolve=f.resolve,y.reject=f.reject,l.promise=y}catch(t){l.promise={resolve:e,reject:e}}var C=h.exec(window.location.href.toLowerCase())||[];l.url=((r||l.url||window.location.href)+"").replace(/#.*$/,"").replace(/^\/\//,C[1]+"//");var M=l.url;l.crossDomain||(l.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(l.url)&&RegExp.$2!==window.location.href);var R=l.dataType;if("jsonp"===R){if(!/=\?/.test(l.url)){var D=(l.jsonp||"callback")+"=?";l.url=i(l.url,D)}return a(l)}c(l);var E,S=l.accepts[R]||l.accepts["*"],A={},L=(/^([\w-]+:)\/\//.test(l.url)?RegExp.$1:window.location.protocol,g.xhr());l.crossDomain||A["X-Requested-With"]||(A["X-Requested-With"]="XMLHttpRequest"),l.ifModified&&(T[M]&&(A["If-Modified-Since"]=T[M]),j[M]&&(A["If-None-Match"]=j[M])),S&&(A.Accept=S,S.indexOf(",")>-1&&(S=S.split(",",2)[0]),L.overrideMimeType&&L.overrideMimeType(S));var $=!/^(?:GET|HEAD)$/.test(l.type.toUpperCase());if((l.data&&$&&!1!==l.contentType||s.contentType)&&(A["Content-Type"]=l.contentType),!1===l.cache&&!$){var H=/([?&])_=[^&]*/;l.url=H.test(M)?M.replace(H,"$1_="+d()):M+(/\?/.test(M)?"&":"?")+"_="+d()}l.headers=u(A,l.headers||{}),L.onreadystatechange=function(){if(4===L.readyState){clearTimeout(E);var e,r=!1;if(L.status>=200&&L.status<300||304===L.status){if(b=L.getAllResponseHeaders(),l.ifModified){var a=o("Last-Modified");a&&(T[M]=a),(a=o("etag"))&&(j[M]=a)}R=R||function(e){return e&&(e===w?"html":e===m?"json":v.test(e)&&"xml")||"text"}(L.getResponseHeader("content-type")),e=L.responseText;try{"xml"===R?e=L.responseXML:"json"===R&&(e=x.test(e)?null:JSON.parse(e))}catch(e){r=e}r?n(r,"parseerror",L,l):t(e,L,l)}else n(null,"error",L,l)}};var N=!("async"in l)||l.async;if(L.open(l.type,l.url,N,l.username,l.password),l.xhrFields)for(var O in l.xhrFields)L[O]=l.xhrFields[O];l.mimeType&&L.overrideMimeType&&L.overrideMimeType(l.mimeType);for(var O in l.headers)void 0!==l.headers[O]&&L.setRequestHeader(O,l.headers[O]+"");return!1===function(e,t){var r=t.context;if(!1===t.beforeSend.call(r,e,t))return!1}(L,l)?(L.abort(),!1):(l.timeout>0&&(E=window.setTimeout(function(){L.onreadystatechange=e,L.abort(),n(null,"timeout",L,l)},l.timeout)),L.send(l.data?l.data:null),l.promise.abort=function(){L.abort()},l.promise)};C.get=function(e,t,r,n){return p(t)&&(n=n||r,r=t,t=void 0),C({url:e,data:t,success:r,dataType:n})},C.post=function(e,t,r,n){return p(t)&&(n=n||r,r=t,t=void 0),C({type:"POST",url:e,data:t,success:r,dataType:n})},C.getJSON=function(e,t,r){return p(t)&&(r=t,t=void 0),C({url:e,data:t,success:r,dataType:"json"})},C.ajaxSetup=function(e,t){return t?u(u(e,g),t):u(g,e)},"function"==typeof define?define(function(){return C}):"undefined"!=typeof exports?module.exports=C:window.ajax=C}();